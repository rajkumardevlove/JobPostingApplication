# SQLite. Versions 3.8.0 and up are supported.
#   gem install sqlite3
#
#   Ensure the SQLite 3 gem is defined in your Gemfile
#   gem 'sqlite3'
#
default: &default
  adapter: sqlite3
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  timeout: 5000

development:
  <<: *default
  database: db/development.sqlite3

# Warning: The database defined as "test" will be erased and
# re-generated from your development database when you run "rake".
# Do not set this db to the same as development or production.
test:
  <<: *default
  database: db/test.sqlite3

production:
  <<: *default
  database: db/production.sqlite3

# 21. removed spec_name 
db_config = ActiveRecord::Base.configs_for(env: "development", spec_name: "primary")

# 20. and 25. connected_to removed
ActiveRecord::Base.connected_to(role: :reading, database: :test_db) do
  # code here will use the primary_replica DB in reading role
end

# 20. and 25. connected_to removed
# class PrimaryReplicaRecord < ApplicationRecord
#   connects_to database: { reading: :test_db }
# end

# 22. yaml loader removed
ActiveRecord::Base.load_yaml('path_to_4.1_or_4.2_file.yml');

# 29. Remove Deprecated `DatabaseConfig#config` Method
config = ActiveRecord::Base.connection_config

# db_config = ActiveRecord::Base.connection_db_config
# config_hash = db_config.configuration_hash